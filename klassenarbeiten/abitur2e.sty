\NeedsTeXFormat{LaTeX2e}

\ProvidesClass{../abitu2e}[v0.1 Abiturformat erstellt]

% Dokumentation



% Pakete einladen:
\RequirePackage{graphicx}

% Verwende 'htbp' als Standardeinstellung für Abbildungen und Tabellen:
\renewcommand{\fps@figure}{htbp}
\renewcommand{\fps@table}{htbp}

% Für die Ankreuzaufgabe wahr/falsch lade die Definitionen aus:
\input{../../truefalses.tex}

% Seitenlayout mit 'geometry'
\RequirePackage{geometry}
\geometry{%
    top=.8cm,
    margin=1.5cm,
    right=2.5cm,
    bottom=2cm,
    marginparsep=0.5cm,% Abstand des Randes
}





 %%%%%  %%%%%%% %%%%%%% %%%%%% %%%% %%    %%  %%%%%%   %%%%% 
%%   %% %%         %%     %%    %%  %%%   %% %%    %% %%   %%
%%      %%         %%     %%    %%  %%%%  %% %%       %%     
 %%%%%  %%%%%%     %%     %%    %%  %% %% %% %%   %%%% %%%%% 
     %% %%         %%     %%    %%  %%  %%%% %%    %%      %%
%%   %% %%         %%     %%    %%  %%   %%% %%    %% %%   %%
 %%%%%  %%%%%%%    %%     %%   %%%% %%    %%  %%%%%%   %%%%% 


% Einrückungen ---
\setlength{\parindent}{0pt}% Paragraphen links
\raggedright% Flattersatz rechts


% Formatierung der Aufgaben --------

% Unteraufgaben ganz links einrücken:
\renewcommand{\subpartshook}{% 
  \setlength{\leftmargin}{0pt}%
  \setlength{\labelwidth}{-\labelsep}%
}

% Nenne Punkte hier "Bewertungseinheiten" BEs:
\pointpoints{BE}{BE}
\marginpointname{ BE}

% Drucke die Punkte von Teilaufgaben rechts auf den Rand:
\pointsdroppedatright
% Verwende dazu je \droppoints.

% Die Unteraufgaben sollen nummeriert sein:
\renewcommand{\thesubpart}{\thepartno.\arabic{subpart}}% 1.1.1

% Aufgabenlayout ---
% vgl. https://tex.stackexchange.com/questions/111460/how-do-i-use-titledquestion-in-the-exam-class-with-or-without-points
\qformat{%
    {\bfseries Aufgabe \thequestion: \thequestiontitle}% 
    \enspace\if\totalpoints0\else~(\totalpoints~\points)\fi%
    \hfill%
    }




% Layout der Lösungen --------
\renewcommand\solutiontitle{\noindent\textbf{Erwartungshorizont}\par}%

\usepackage{marginnote}% für BE am Rand

% linksbündig \afbi (eins):
\newcommand{\afbi}[1]{%
\marginnote{#1}
}
% mittig \afbii (zwei):
\newcommand{\afbii}[1]{%
\marginnote{\centering#1}
}
% rechtsbündig \afbiii (drei):
\newcommand{\afbiii}[1]{%
\marginnote{\hfill#1}
}




















 %%%%%%   %%%%%%  %%     %% %%%%%%%%  %%%% %%%%%%% %%%%%%%%      
%%    %% %%    %% %%     %% %%     %%  %%  %%         %%         
%%       %%       %%     %% %%     %%  %%  %%         %%         
 %%%%%%  %%       %%%%%%%%% %%%%%%%%   %%  %%%%%%     %%   %%%%%%
      %% %%       %%     %% %%   %%    %%  %%         %%         
%%    %% %%    %% %%     %% %%    %%   %%  %%         %%         
 %%%%%%   %%%%%%  %%     %% %%     %% %%%% %%         %%         
   %%%    %%%%%%%%  %%%%%%%%                                         
  %% %%   %%     %%    %%                                            
 %%   %%  %%     %%    %%                                            
%%     %% %%%%%%%%     %%                                            
%%%%%%%%% %%   %%      %%                                            
%%     %% %%    %%     %%                                            
%%     %% %%     %%    %%                                            

\RequirePackage{siunitx}% Diese Zeile löst ein Problem mit der Schriftart der Einheiten mit cmbright, siehe unten. Es kommt dabei auf die Reihenfolge an, damit das ifpackageloaded auch ausgeführt wird.

% Wir wählen eine serifenlose Schriftart (optional):
\RequirePackage{cmbright}
% Die folgenden beiden Zeilen beheben einen Fehler bei der Verwendung von cmbright mit siunitx, vgl. hier:
% https://tex.stackexchange.com/questions/629019/siunitx-in-apperent-conflict-with-cmbright/629022#629022
\@ifpackageloaded{siunitx}{%
	\DeclareMathAlphabet{\mathsf}{OT1}{\familydefault}{m}{n}%
	\AtBeginDocument{\sisetup{unit-font-command = \mathrm}}%
}







