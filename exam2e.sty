\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{../../exam2e}[2023/10/10 v0.0.1 Ein Paket für die Kompatibilität mit der exam documentclass]


\RequirePackage{amsmath}
\RequirePackage{amsthm}
















 %%%%%%%  %%    %% %%%%%%% %%%%% %%%%%% %%%%  %%%%%%  %%    %%  %%%%% 
%%     %% %%    %% %%     %%   %%  %%    %%  %%    %% %%%   %% %%   %%
%%     %% %%    %% %%     %%       %%    %%  %%    %% %%%%  %% %%     
%%     %% %%    %% %%%%%   %%%%%   %%    %%  %%    %% %% %% %%  %%%%% 
%%  %% %% %%    %% %%          %%  %%    %%  %%    %% %%  %%%%      %%
%%    %%  %%    %% %%     %%   %%  %%    %%  %%    %% %%   %%% %%   %%
 %%%%% %%  %%%%%%  %%%%%%% %%%%%   %%   %%%%  %%%%%%  %%    %%  %%%%% 

% Die Umgebung 'questions' wird nicht definiert, sie wird nur bei den
% Klassenarbeiten (exam documentclass) verwendet, nicht in den Skripten. 
% Es folgen die Definitionen von question, part, subpart und subsubpart.


%% --- QUESTION, die Umgebung für Aufgaben --------------------

\newcounter{questionID}% fortlaufender Zähler
\newcounter{solutionID}% fortlaufender Zähler
\setcounter{questionID}{0} 
\setcounter{solutionID}{0} 

\newcounter{question}[section]% zurückgesetzt mit section
\makeatletter
\@addtoreset{question}{subsection}% zurückgesetzt mit subsection
\@addtoreset{question}{subsubsection}% zurückgesetzt mit subsubsection 
\makeatother
\setcounter{question}{0} 

\newenvironment{question}[1][]{%
	\refstepcounter{questionID}% globalen Zähler erhöhen
	\stepcounter{question}%		 abschnittsinternen Zähler erhöhen
	\noindent{\bf Aufgabe~\arabic{question}}\hspace*{1em}% markup
}{}



%% --- QUESTIONPARTS (mit Zähler partno) --------------------

% Wir halten uns fern vom part counter (doc.class report und book):
\newcounter{partno}[question]% Neu zählen bei question.
\makeatletter
\@addtoreset{partno}{solutionID}% zurückgesetzt mit solution
\@addtoreset{partno}{section}% zurückgesetzt mit section
\@addtoreset{partno}{subsection}% zurückgesetzt mit subsection
\@addtoreset{partno}{subsubsection}% zurückgesetzt mit subsection
\makeatother
\setcounter{partno}{0}%


%%
% Environment for parts of questions "1.1" :
\newenvironment{parts}{%
\begin{list}%
{\bf \arabic{question}.\arabic{partno}}% markup des part labels
{\usecounter{partno}%
 \setlength\labelsep{.5em}% Abstand label zu Text.
 \setlength\leftmargin{1.5em}% Abstand Text vom linken Rand
 \setlength\listparindent{0.5in}% Absatz einrücken
 \setlength\parsep{0in}%
}%
}{\end{list}}%end newenvironment parts.
%
% Die Umgebung wird genutzt mit \part (wie in exam documentclass):
\renewcommand{\part}{\item}% Diese Zeile falls documentclass report oder book


%% --- SUBPARTS --------------------

\newcounter{subpart}[partno]% Neu zählen bei question.
\makeatletter
\@addtoreset{subpart}{question}% zurückgesetzt mit Teilaufgaben
\@addtoreset{subpart}{solutionID}% zurückgesetzt mit solution
\@addtoreset{subpart}{section}% zurückgesetzt mit section
\@addtoreset{subpart}{subsection}% zurückgesetzt mit subsection
\@addtoreset{subpart}{subsubsection}% zurückgesetzt mit subsection
\makeatother
\setcounter{subpart}{0}%


%%
% Environment for subparts of questions "(a)" :
\newenvironment{subparts}{%
\makeatletter
\begin{list}%
{(\alph{subpart})}% markup des subpartlabels, gleich wie \aaa@ii unten
{\usecounter{subpart}%
 \setlength\labelsep{.5em}% Abstand label zu Text.
 \setlength\leftmargin{2em}% Abstand Text vom linken Rand
 \setlength\listparindent{0.5in}% Absatz einrücken
 \setlength\parsep{0in}%
}%
}{\end{list}}
\makeatother%end newenvironment parts.
%
% Die Umgebung wird genutzt mit \part (wie in exam documentclass):
\newcommand{\subpart}{\item}%



%% --- SUBSUBPARTS --------------------

\newcounter{subsubpart}[subpart]% Neu zählen bei subpart.
\makeatletter
\@addtoreset{subsubpart}{partno}% zurückgesetzt mit Teilaufgaben
\@addtoreset{subsubpart}{question}% zurückgesetzt mit Unteraufgaben
\@addtoreset{subsubpart}{solutionID}% zurückgesetzt mit solution
\@addtoreset{subsubpart}{section}% zurückgesetzt mit section
\@addtoreset{subsubpart}{subsection}% zurückgesetzt mit subsection
\@addtoreset{subsubpart}{subsubsection}% zurückgesetzt mit subsubsect.
\makeatother
\setcounter{subsubpart}{0}%


%%
% Environment for subparts of questions "(a)" :
\newenvironment{subsubparts}{%
\begin{list}%
{\roman{subsubpart}.}% markup des subsubpart labels.
{\usecounter{subsubpart}%
 \setlength\labelsep{.5em}% Abstand label zu Text.
 \setlength\leftmargin{2em}% Abstand Text vom linken Rand
 \setlength\listparindent{0.5in}% Absatz einrücken
 \setlength\parsep{0in}%
}%
}{\end{list}}%end newenvironment parts.
%
% Die Umgebung wird genutzt mit \part (wie in exam documentclass):
\newcommand{\subsubpart}{\item}%



%% --- Checkboxes --------------------

% Auf der Niveaustufe subsubpart endet die eins-zu-eins-Kompatibilität mit 'exam'. Wir bieten nur noch die Ankreuzmöglichkeit an mit 'checkboxes':

%%
% Environment for subparts of questions "(a)" :
\newenvironment{checkboxes}{%
\begin{list}%
{\choice}% markup des subsubpart labels.
{
 \setlength\labelsep{.5em}% Abstand label zu Text.
 \setlength\leftmargin{2em}% Abstand Text vom linken Rand
 \setlength\listparindent{0.5in}% Absatz einrücken
 \setlength\parsep{0in}%
}%
}{\end{list}}%end newenvironment parts.
%
% Die Umgebung wird genutzt mit \choice (wie in exam documentclass):
\newcommand{\choice}{\item[\framebox(1.333ex,1.333ex){}]}%
\newcommand{\checkbox}{\item[\framebox(1.333ex,1.333ex){}]}% legacy



   %%%       %%%       %%%    
  %% %%     %% %%     %% %%   
 %%   %%   %%   %%   %%   %%  
%%     %% %%     %% %%     %% 
%%%%%%%%% %%%%%%%%% %%%%%%%%% 
%%     %% %%     %% %%     %% 
%%     %% %%     %% %%     %% 


%% --- SUBPARTS -- Zugriff mit \aaa --------------------

\makeatletter
% Identische Definition in exam2e.cls ---

% \aaa zur Verwendung im Dokument als \aaa:
\newcommand{\aaa}{\@ifnextchar\bgroup{\aaa@i}{\aaa@i{}}}
\def\aaa@i{%
   \stepcounter{subpart}%
   \aaa@ii{subpart}%
}%

% Es folgt noch der Befehl für den Markup auf Textoberfläche. Dieser wird auch für das subpartlabel verwendet, siehe oben.
\def\aaa@ii#1{\textnormal{(\alph{#1})}}% date tag: 06 Jan 2020
\makeatother



